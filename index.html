<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>WG Archer Run</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
body {
Â  Â  margin: 0;
Â  Â  overflow: hidden;
Â  Â  background: #1a1a1a;
Â  Â  color: white;
Â  Â  font-family: Arial;
Â  Â  text-align: center;
}

#game {
Â  Â  position: relative;
Â  Â  width: 100vw;
Â  Â  height: 70vh;
Â  Â  background: #2d2d2d;
Â  Â  overflow: hidden;
}

#player {
Â  Â  position: absolute;
Â  Â  bottom: 0;
Â  Â  left: 50px;
Â  Â  width: 40px;
Â  Â  height: 40px;
Â  Â  background: orange;
}

.obstacle {
Â  Â  position: absolute;
Â  Â  bottom: 0;
Â  Â  width: 30px;
Â  Â  height: 40px;
Â  Â  background: crimson;
}

#score {
Â  Â  margin-top: 10px;
Â  Â  font-size: 20px;
}

#gameOver {
Â  Â  display: none;
Â  Â  font-size: 24px;
Â  Â  margin-top: 15px;
}
button {
Â  Â  padding: 10px 20px;
Â  Â  font-size: 16px;
}
</style>
</head>

<body>

<h2>ğŸ¹ WG Archer Run</h2>

<div id="game">
Â  Â  <div id="player"></div>
</div>

<div id="score">Ğ’Ñ€ĞµĞ¼Ñ: 0 ÑĞµĞº</div>
<div id="gameOver"></div>
<button onclick="startGame()">Ğ˜Ğ³Ñ€Ğ°Ñ‚ÑŒ</button>

<script>
let player = document.getElementById("player");
let game = document.getElementById("game");
let scoreText = document.getElementById("score");
let gameOverText = document.getElementById("gameOver");

let jumping = false;
let velocity = 0;
let gravity = 1;
let isAlive = false;
let timeSurvived = 0;
let obstacles = [];
let gameInterval;
let obstacleInterval;

function jump() {
Â  Â  if (!jumping) {
Â  Â  Â  Â  velocity = 15;
Â  Â  Â  Â  jumping = true;
Â  Â  }
}

document.addEventListener("keydown", function(e) {
Â  Â  if (e.code === "Space") jump();
});
document.addEventListener("click", jump);

function createObstacle() {
Â  Â  let obstacle = document.createElement("div");
Â  Â  obstacle.classList.add("obstacle");
Â  Â  obstacle.style.left = "100vw";
Â  Â  game.appendChild(obstacle);
Â  Â  obstacles.push(obstacle);
}

function startGame() {
Â  Â  gameOverText.style.display = "none";
Â  Â  player.style.bottom = "0px";
Â  Â  obstacles.forEach(o => o.remove());
Â  Â  obstacles = [];
Â  Â  timeSurvived = 0;
Â  Â  isAlive = true;

Â  Â  gameInterval = setInterval(gameLoop, 20);
Â  Â  obstacleInterval = setInterval(createObstacle, 1500);
}

function gameLoop() {
Â  Â  if (!isAlive) return;

Â  Â  velocity -= gravity;
Â  Â  let bottom = parseInt(player.style.bottom || 0);
Â  Â  bottom += velocity;

Â  Â  if (bottom <= 0) {
Â  Â  Â  Â  bottom = 0;
Â  Â  Â  Â  jumping = false;
Â  Â  }

Â  Â  player.style.bottom = bottom + "px";

Â  Â  obstacles.forEach((obstacle, index) => {
Â  Â  Â  Â  let obstacleLeft = parseInt(obstacle.style.left);
Â  Â  Â  Â  obstacleLeft -= 5;
Â  Â  Â  Â  obstacle.style.left = obstacleLeft + "px";

Â  Â  Â  Â  if (obstacleLeft < -30) {
Â  Â  Â  Â  Â  Â  obstacle.remove();
Â  Â  Â  Â  Â  Â  obstacles.splice(index, 1);
Â  Â  Â  Â  }

Â  Â  Â  Â  let playerRect = player.getBoundingClientRect();
Â  Â  Â  Â  let obstacleRect = obstacle.getBoundingClientRect();

Â  Â  Â  Â  if (
Â  Â  Â  Â  Â  Â  playerRect.left < obstacleRect.right &&
Â  Â  Â  Â  Â  Â  playerRect.right > obstacleRect.left &&
Â  Â  Â  Â  Â  Â  playerRect.bottom > obstacleRect.top
Â  Â  Â  Â  ) {
Â  Â  Â  Â  Â  Â  endGame();
Â  Â  Â  Â  }
Â  Â  });

Â  Â  timeSurvived += 0.02;
Â  Â  scoreText.innerText = "Ğ’Ñ€ĞµĞ¼Ñ: " + timeSurvived.toFixed(1) + " ÑĞµĞº";
}

function endGame() {
Â  Â  isAlive = false;
Â  Â  clearInterval(gameInterval);
Â  Â  clearInterval(obstacleInterval);

Â  Â  gameOverText.style.display = "block";
Â  Â  gameOverText.innerText = "ğŸ’€ Ğ¢Ñ‹ Ğ¿Ñ€Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ»ÑÑ " + timeSurvived.toFixed(1) + " ÑĞµĞº";

Â  Â  // Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ° Ğ² Telegram
Â  Â  if (window.Telegram.WebApp) {
Â  Â  Â  Â  Telegram.WebApp.sendData(JSON.stringify({
Â  Â  Â  Â  Â  Â  time: timeSurvived
Â  Â  Â  Â  }));
Â  Â  }
}
</script>

</body>
</html>
